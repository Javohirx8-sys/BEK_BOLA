<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEK_BOLA | Parkent Turizm</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #f0f2f5; }
        header { background: linear-gradient(135deg, #0a5cff, #0041c2); color: white; padding: 20px; text-align: center; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .container { padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 25px; }
        .card { background: white; border-radius: 15px; padding: 25px 15px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s; }
        .card:active { transform: scale(0.95); }
        .sos { background: #ff3b3b; color: white; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255, 59, 59, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(255, 59, 59, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 59, 59, 0); } }
        button { width: 100%; padding: 14px; margin-top: 10px; border-radius: 12px; border: none; background: #0a5cff; color: white; font-weight: bold; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <h2>BEK_BOLA</h2>
    <p>Parkent tumani aqlli yordamchisi</p>
</header>

<div class="container">
    <button onclick="getLocation()">üìç Joylashuvni aniqlash</button>

    <div class="grid">
        <div class="card sos" onclick="yuborish('SOS üÜò')">
            <span style="font-size: 30px;">üÜò</span><br><b>SOS</b>
        </div>
        <div class="card" onclick="yuborish('Tez yordam üöë')">
            <span style="font-size: 30px;">üöë</span><br>Tez yordam
        </div>
        <div class="card" onclick="window.open('https://www.google.com/maps/search/yoqilg%CA%BBi+shoxobchasi')">
            <span style="font-size: 30px;">‚õΩÔ∏è</span><br>Yoqilg‚Äòi
        </div>
        <div class="card" onclick="window.open('https://www.google.com/maps/search/ovqatlanish+joylari')">
            <span style="font-size: 30px;">üçΩ</span><br>Ovqatlanish
        </div>
    </div>
</div>

<script>
    // Firebase Config - Siz yuborgan ma'lumotlar
    const firebaseConfig = {
        apiKey: "AIzaSyCwhY9eF8gIO5Ew9MaYmzSbfKUs0wByOAM",
        authDomain: "bek-bola.firebaseapp.com",
        databaseURL: "https://bek-bola-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "bek-bola",
        storageBucket: "bek-bola.firebasestorage.app",
        messagingSenderId: "617804928629",
        appId: "1:617804928629:web:4402d65810cf3d30810a3c"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function yuborish(tur) {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(pos => {
                const id = "ID" + Math.floor(Math.random() * 9000);
                database.ref('chaqiruvlar/' + id).set({
                    id: id,
                    turi: tur,
                    lat: pos.coords.latitude,
                    lng: pos.coords.longitude,
                    vaqt: new Date().toLocaleTimeString()
                }).then(() => {
                    alert("Xabaringiz yuborildi! Tez orada yordam beriladi.");
                });
            }, (error) => {
                alert("Joylashuvingizni aniqlashga ruxsat bering!");
            });
        } else {
            alert("Brauzeringiz geolokatsiyani qo'llab-quvvatlamaydi.");
        }
    }

    function getLocation() {
        alert("Joylashuvni aniqlash yoqildi. Endi yordam so'rash xavfsiz.");
    }
</script>
</body>
</html>
